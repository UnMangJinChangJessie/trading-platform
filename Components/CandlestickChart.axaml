<UserControl
  xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:ScottPlot="clr-namespace:ScottPlot.Avalonia;assembly=ScottPlot.Avalonia"
  xmlns:themes="clr-namespace:Material.Styles.Themes;assembly=Material.Styles"
  xmlns:m="using:trading_platform.Model"
  xmlns:mcharts="using:trading_platform.Model.Charts"
  xmlns:vm="using:trading_platform.ViewModel"
  mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
  x:Class="trading_platform.Components.CandlestickChart"
  x:DataType="mcharts:CandlestickChartData"
  Loaded="UserControl_Loaded"
  AttachedToVisualTree="UserControl_AttachedToVisualTree"
  DetachedFromVisualTree="UserControl_DetachedFromVisualTree"
>
  <DockPanel>
    <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" FlowDirection="LeftToRight" >
      <TextBlock Text="캔들 기간" VerticalAlignment="Center" />
      <ComboBox
        ItemsSource="{Binding AvailableCandlePeriod}"
        SelectedItem="{Binding Span}"
        Margin="5,0,0,0"
      >
        <ComboBox.ItemTemplate>
          <DataTemplate>
            <TextBlock Text="{Binding ., Converter={x:Static m:Converters.EnumDescriptionConverter}}" />
          </DataTemplate>
        </ComboBox.ItemTemplate>
      </ComboBox>
      <TextBlock Text="조회 기간" Margin="5,0,0,0" VerticalAlignment="Center" />
      <DatePicker YearFormat="yyyy" MonthFormat="MMM" DayFormat="dd(ddd)" SelectedDate="{Binding ChartDateStart}" Margin="5,0,0,0" />
      <DatePicker YearFormat="yyyy" MonthFormat="MMM" DayFormat="dd(ddd)" SelectedDate="{Binding ChartDateEnd}" Margin="2,0,0,0" />
    </StackPanel>
    <ScottPlot:AvaPlot
      Name="PriceChart"
      HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
    >
    </ScottPlot:AvaPlot>
  </DockPanel>
</UserControl>
